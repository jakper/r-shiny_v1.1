library(shiny)
library(shinyAce)
library(shinyRGL)
library(rHighcharts)
library(rCharts)

shinyUI(bootstrapPage(

  # importing the needed script and css files 
  tags$head(
      tags$link(rel="stylesheet", type="text/css",href="style.css"),
      tags$script(type="text/javascript", src = "busy.js"),
      tags$script(type="text/javascript", src = "d3.js"),
      tags$script(type="text/javascript", src = "polychart.js"),
      tags$script(type="text/javascript", src = "variableDialog.js"),
      tags$script(types="text/javascript", src = "dataDialog.js")), 

  # title
  headerPanel(HTML('<h1 style="text-align:center; color:#66CCFF">Compositional Data Analysis</h1>') ,"Compositional Data Analysis"),

  # sidePanel
  sidebarPanel(
   	tabsetPanel(
             tabPanel("Data",
                   uiOutput('dataSelector'), 

                    HTML('<img class="logoTU" src="logoTU.gif"/>
                        <img class="logoR" src="logoR.jpg"/>')
             ),

             tabPanel("Editor",
                  aceEditor("plotCode", 
                        mode = "r", 
                        value = ""),
                 
                    downloadButton(
                        outputId = "downloadCode", 
                        label    = "Download Code"))
        )	   
    ),
  
  # mainPanel
  mainPanel(
    HTML('<div class="busy"><p>Loading...</p><img src="load.gif"></img> </div>'),
         
    tabsetPanel(
      tabPanel("Data",
               tabsetPanel(
                           tabPanel("See Data", HTML('<div id="table" class="shiny-html-output"></div>')),
                           tabPanel("Upload",
                                   wellPanel(
                                   fileInput("uploadFile", "Choose CSV File",
                                   accept=c("text/csv", "text/comma-separated-values,text/plain", ".csv")),
                                   HTML('<div class="variableDialog" id="variableDialog" style="display:none"></div>')
                                   )),
                           tabPanel("Create New Data", 
                                    HTML('<div><script>d3.mean([1,23,4,32])</script></div>
                                         <div class="well" id="buttonsWell" style="width:140px">
                                              <input id="fromExistentData" class="action-button" type="button" value="From existent Data"/>
                                              <br/>
                                              <br/>
                                              <input id="generateNewData" class=" action-button" type="button" value="Generate new data"/>
                                         </div>
                                         <br/> 
                                         <div class="well" id="dataDialog" style="display:none">
                                         </div>
                                         ')
                                   )
                )),
      tabPanel("Plot", 
           tabsetPanel(
                       tabPanel("Plot", HTML('<div id="plot" class="shiny-plot-output"'), ),
                       tabPanel("Histogramm"),
                       tabPanel("BoxPlot"))),
      tabPanel("PCA"),
      tabPanel("Regressions"),
      tabPanel("Correlation"),
      tabPanel("About", HTML('<div id="summary" class="shiny-html-output"></div>'))
    ))
  
))
